<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="border dash-border rounded p-3 mt-2">
                <i class="fa fa-file text-muted mt-2" style="font-size: 25px;"></i>
                <p class="text-muted small" style="padding: 0; margin: 0">Orders</p>
                <!-- <h5 style="font-size: 22px; margin: 0; padding: 0; margin-top: 2px;">{{summary !== null ? summary.total_orders.length : 0}}</h5> -->
                <h5 style="font-size: 22px; margin: 0; padding: 0; margin-top: 2px;">35</h5>

                <p class="text-muted mt-1" style="font-size: 12px;" role="button" routerLink="/backend/orders">View More <i class="fa fa-chevron-right pl-2"></i></p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="border dash-border rounded p-3 mt-2">
                <i class="fa fa-users text-muted mt-2" style="font-size: 25px;"></i>
                <p class="text-muted" style="padding: 0; margin: 0">Users</p>
                <!-- <h5 style="font-size:22px; margin: 0; padding: 0; margin-top: 2px;">{{summary !== null ? summary.total_users.length : 0}}</h5> -->
                <h5 style="font-size:22px; margin: 0; padding: 0; margin-top: 2px;">3792</h5>
                <p class="text-muted mt-1" style="font-size: 12px;" role="button" routerLink="/backend/users">View More <i class="fa fa-chevron-right pl-2"></i></p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="border dash-border rounded p-3 mt-2">
                <i class="fa fa-chart-simple text-muted mt-2" style="font-size: 25px;"></i>
                <p class="text-muted" style="padding: 0; margin: 0">Low Stock Products</p>
                <h5 style="font-size: 22px; margin: 0; padding: 0; margin-top: 2px;">{{summary !== null ? summary.low_stock_products.length : 0}}</h5>
                <p class="text-muted mt-1" style="font-size: 12px;" role="button" routerLink="/backend/products">View More <i class="fa fa-chevron-right pl-2"></i></p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="border dash-border rounded p-3 mt-2">
                <i class="fa fa-calendar text-muted mt-2" style="font-size: 25px;"></i>
                <p class="text-muted" style="padding: 0; margin: 0">Expiring Licences</p>
                <h5 style="font-size: 22px; margin: 0; padding: 0; margin-top: 2px;">{{supplier.orders}}</h5>
                <p class="text-muted mt-1" style="font-size: 12px;" role="button" routerLink="/backend/users">View More <i class="fa fa-chevron-right pl-2"></i></p>
            </div>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-12">
            <!-- <button class="btn btn-secondary" (click)="smart()">Click Me!</button> -->
            <h4 class="mb-2">Analytics</h4>
            <ul class="order-items">
                <li>
                    <h4 class="p-0 m-0">{{orders.total_orders}}</h4>
                    <i class="fa fa-circle text-primary" style="font-size: 10px;"></i> Orders
                </li>
                <li>
                    <h4 class="p-0 m-0">{{orders.shipped}}</h4>
                    <i class="fa fa-circle text-info" style="font-size: 10px;"></i> Shipped
                </li>
                <li>
                    <h4 class="p-0 m-0">{{orders.unshipped}}</h4>
                    <i class="fa fa-circle text-secondary" style="font-size: 10px;"></i> Unshipped
                </li>
            </ul>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-12 mt-3 mb-5">
            <h2 class="text-center">Platform Analytics</h2>
        </div>
        <div class="col-md-3">
            <div class="form-group">
                <select class="form-control" [(ngModel)]="chart_category">
                    <option value="revenue">Revenue</option>
                    <option value="orders">Orders</option>
                    <option value="loan">Loan</option>
                    <option value="healthcare">Health Providers</option>
                </select>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group">
                <select class="form-control" [(ngModel)]="chart_period">
                    <option value="monthly">Monthly</option>
                    <option value="yearly">Yearly</option>
                </select>
            </div>
        </div>

        <div class="col-md-3">
            <button class="btn btn-primary" (click)="getChartData()">Get Analytics</button>
        </div>
        
        <div class="col-md-12 mt-3" style="height: 400px;">
            <div class="text-center" *ngIf="is_loading_chart_data"><p class="small">...loading chart data</p></div>
            <chart [type]="type" #myChart [data]="data" [options]="options" style="height: 100%;"></chart>
        </div>
    </div>
</div>
